---------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  c:\ian\git\mvmeta\scripts\mvmeta_make_cscript_more.log
  log type:  text
 opened on:  28 Jul 2023, 17:44:31

. /*
> mvmeta_make_cscript_more.do
> IW 27jul2023
> */
. set linesize 140

. foreach model in "logit hisbpl" "regress sbpl" {
  2.         * load data
.         use "N:\Home\meta\Interactions\deft_subgps\metadeft\problem jul 23\David hypothetical data (2)", clear
  3.         keep if inlist(trial,"ANBP","COOP")
  4.         rename treat trt
  5.         egen agegp = cut(age), at(30 45 70 100)
  6.         tabstat age, by(agegp) s(n min max)
  7.         tab trial agegp
  8.         gen hisbpl = sbpl>160 if !mi(sbpl)
  9.         xi i.trt*i.agegp, noomit
 10. 
.         * run 3 mvmeta_make commands that should give the same results
.         di as input _n(5) "`model': 1. parameterised as subgroup-specific treatment effect, ppfix not needed"
 11.         mvmeta_make, by(trial) saving(z1,replace) usevars(_ItrtXage_1*) ppfix(none): `model' _Iagegp* _ItrtXage_1* sbpi
 12. 
.         di as input _n(5) "`model': 2. parameterised as subgroup-specific treatment effect, with ppfix anyway"
 13.         mvmeta_make, by(trial) saving(z2,replace) usevars(_ItrtXage_1*) ppfix(check): `model' _Iagegp* _ItrtXage_1* sbpi
 14. 
.         di as input _n(5) "`model': 3. parameterised as main treatment effect and 2 interactions"
 15.         mvmeta_make, by(trial) saving(z3,replace) usevars(_Itrt_1 _ItrtXage_1_45 _ItrtXage_1_70) ppfix(check): `model' _Itrt_1 _Iagegp_
> 45 _Iagegp_70 _ItrtXage_1_45 _ItrtXage_1_70 sbpi
 16. 
.         * test results for (i) unexpected missing values and (ii) discrepant results
.         use z1, clear // reference
 17.         * no augmentation - missing values are genuine
.         mvmeta y S, fixed
 18.         mat V1=e(V)
 19. 
.         use z2, clear
 20.         egen nmiss = rowmiss(y* S*)
 21.         assert nmiss==0
 22.         mvmeta y S, fixed
 23.         di as text _n "Relative error is " as result mreldif(V1,e(V))
 24.         assert mreldif(V1,e(V))<1E-5
 25. 
.         use z3, clear
 26.         egen nmiss = rowmiss(y* S*)
 27.         assert nmiss==0
 28.         mvmeta y S, fixed
 29.         nlcom (_ItrtXage_1_30: _b[y_Itrt_1]) (_ItrtXage_1_45: _b[y_Itrt_1] + _b[y_ItrtXage_1_45]) ///
>                 (_ItrtXage_1_70: _b[y_Itrt_1] + _b[y_ItrtXage_1_70]), post
 30.         di as text _n "Relative error is " as result mreldif(V1,e(V))
 31.         assert mreldif(V1,e(V))<1E-5
 32. }
(Savastata created this dataset on 12MAY2007)
(26,702 observations deleted)

Summary for variables: age
Group variable: agegp 

   agegp |         N       Min       Max
---------+------------------------------
      30 |       863        30        44
      45 |       845        45        69
      70 |       171        70        81
---------+------------------------------
   Total |      1879        30        81
----------------------------------------

           |              agegp
     trial |        30         45         70 |     Total
-----------+---------------------------------+----------
      ANBP |       863        667          0 |     1,530 
      COOP |         0        178        171 |       349 
-----------+---------------------------------+----------
     Total |       863        845        171 |     1,879 
i.trt*i.agegp     _ItrtXage_#_#       (coded as above)





logit hisbpl: 1. parameterised as subgroup-specific treatment effect, ppfix not needed
Learning equation names...
Using coefficients: _ItrtXage_1_30 _ItrtXage_1_45 _ItrtXage_1_70 
(file z1.dta not found)


-> trial==ANBP

note: _Iagegp_45 omitted because of collinearity.
note: _Iagegp_70 omitted because of collinearity.
note: _ItrtXage_1_70 omitted because of collinearity.
Iteration 0:   log likelihood = -432.83742  
Iteration 1:   log likelihood = -392.97592  
Iteration 2:   log likelihood = -384.32886  
Iteration 3:   log likelihood = -384.30932  
Iteration 4:   log likelihood = -384.30932  

Logistic regression                                     Number of obs =  1,530
                                                        LR chi2(4)    =  97.06
                                                        Prob > chi2   = 0.0000
Log likelihood = -384.30932                             Pseudo R2     = 0.1121

--------------------------------------------------------------------------------
        hisbpl | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
---------------+----------------------------------------------------------------
    _Iagegp_30 |  -.2863548   .2462532    -1.16   0.245    -.7690022    .1962925
    _Iagegp_45 |          0  (omitted)
    _Iagegp_70 |          0  (omitted)
_ItrtXage_1_30 |  -.3006195   .2661606    -1.13   0.259    -.8222846    .2210456
_ItrtXage_1_45 |  -1.216317   .3170623    -3.84   0.000    -1.837748   -.5948864
_ItrtXage_1_70 |          0  (omitted)
          sbpi |    .051737   .0059205     8.74   0.000     .0401331    .0633409
         _cons |  -10.13652   .9806365   -10.34   0.000    -12.05853   -8.214505
--------------------------------------------------------------------------------

trial==ANBP: perfect prediction or inestimable parameter
   (parameters y_ItrtXage_1_70 have been dropped)
trial==ANBP: perfect prediction fixing disabled
trial==ANBP: missing S_ItrtXage_1_30_ItrtXage_1_70
trial==ANBP: missing S_ItrtXage_1_45_ItrtXage_1_70
trial==ANBP: missing _ItrtXage_1_70
trial==ANBP: missing S_ItrtXage_1_70_ItrtXage_1_70


-> trial==COOP

note: _Iagegp_30 omitted because of collinearity.
note: _Iagegp_70 omitted because of collinearity.
note: _ItrtXage_1_30 omitted because of collinearity.
Iteration 0:   log likelihood = -211.73146  
Iteration 1:   log likelihood = -192.11002  
Iteration 2:   log likelihood = -191.41031  
Iteration 3:   log likelihood = -191.40765  
Iteration 4:   log likelihood = -191.40765  

Logistic regression                                     Number of obs =    349
                                                        LR chi2(4)    =  40.65
                                                        Prob > chi2   = 0.0000
Log likelihood = -191.40765                             Pseudo R2     = 0.0960

--------------------------------------------------------------------------------
        hisbpl | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
---------------+----------------------------------------------------------------
    _Iagegp_30 |          0  (omitted)
    _Iagegp_45 |   .5702222   .3664545     1.56   0.120    -.1480154     1.28846
    _Iagegp_70 |          0  (omitted)
_ItrtXage_1_30 |          0  (omitted)
_ItrtXage_1_45 |  -1.704333   .3588102    -4.75   0.000    -2.407588   -1.001078
_ItrtXage_1_70 |  -.5248575   .3496655    -1.50   0.133    -1.210189    .1604743
          sbpi |   .0284008   .0086996     3.26   0.001     .0113499    .0454517
         _cons |  -4.244705   1.663305    -2.55   0.011    -7.504723   -.9846866
--------------------------------------------------------------------------------

trial==COOP: perfect prediction or inestimable parameter
   (parameters y_ItrtXage_1_30 have been dropped)
trial==COOP: perfect prediction fixing disabled
trial==COOP: missing _ItrtXage_1_30
trial==COOP: missing S_ItrtXage_1_30_ItrtXage_1_30
trial==COOP: missing S_ItrtXage_1_30_ItrtXage_1_45
trial==COOP: missing S_ItrtXage_1_30_ItrtXage_1_70

file z1.dta saved





logit hisbpl: 2. parameterised as subgroup-specific treatment effect, with ppfix anyway
Learning equation names...
Using coefficients: _ItrtXage_1_30 _ItrtXage_1_45 _ItrtXage_1_70 
(file z2.dta not found)


-> trial==ANBP

note: _Iagegp_45 omitted because of collinearity.
note: _Iagegp_70 omitted because of collinearity.
note: _ItrtXage_1_70 omitted because of collinearity.
Iteration 0:   log likelihood = -432.83742  
Iteration 1:   log likelihood = -392.97592  
Iteration 2:   log likelihood = -384.32886  
Iteration 3:   log likelihood = -384.30932  
Iteration 4:   log likelihood = -384.30932  

Logistic regression                                     Number of obs =  1,530
                                                        LR chi2(4)    =  97.06
                                                        Prob > chi2   = 0.0000
Log likelihood = -384.30932                             Pseudo R2     = 0.1121

--------------------------------------------------------------------------------
        hisbpl | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
---------------+----------------------------------------------------------------
    _Iagegp_30 |  -.2863548   .2462532    -1.16   0.245    -.7690022    .1962925
    _Iagegp_45 |          0  (omitted)
    _Iagegp_70 |          0  (omitted)
_ItrtXage_1_30 |  -.3006195   .2661606    -1.13   0.259    -.8222846    .2210456
_ItrtXage_1_45 |  -1.216317   .3170623    -3.84   0.000    -1.837748   -.5948864
_ItrtXage_1_70 |          0  (omitted)
          sbpi |    .051737   .0059205     8.74   0.000     .0401331    .0633409
         _cons |  -10.13652   .9806365   -10.34   0.000    -12.05853   -8.214505
--------------------------------------------------------------------------------

trial==ANBP: perfect prediction or inestimable parameter
   (parameters y_ItrtXage_1_70 have been dropped)
trial==ANBP: attempting to fix perfect prediction by augmenting with .0001 observations per parameter
Adding 28 pseudo-observations with total weight .0008

Listing of added records:

      +-------------------------------------------------------------------------------------------------+
      | _Iage~30   _Iage~45   _Iage~70   _It~1_30   _It~1_45   _It~1_70        sbpi   hisbpl     weight |
      |-------------------------------------------------------------------------------------------------|
1880. |  .068172    .435948    .091006    .288889    .220915    .040979   152.65686        0   .0000286 |
1881. |  1.05993    .435948    .091006    .288889    .220915    .040979   152.65686        0   .0000286 |
1882. |  .068172    .435948    .091006    .288889    .220915    .040979   152.65686        1   .0000286 |
1883. |  1.05993    .435948    .091006    .288889    .220915    .040979   152.65686        1   .0000286 |
      |-------------------------------------------------------------------------------------------------|
1884. |  .564052   -.059933    .091006    .288889    .220915    .040979   152.65686        0   .0000286 |
1885. |  .564052    .931828    .091006    .288889    .220915    .040979   152.65686        0   .0000286 |
1886. |  .564052   -.059933    .091006    .288889    .220915    .040979   152.65686        1   .0000286 |
1887. |  .564052    .931828    .091006    .288889    .220915    .040979   152.65686        1   .0000286 |
      |-------------------------------------------------------------------------------------------------|
1888. |  .564052    .435948   -.196612    .288889    .220915    .040979   152.65686        0   .0000286 |
1889. |  .564052    .435948    .378623    .288889    .220915    .040979   152.65686        0   .0000286 |
1890. |  .564052    .435948   -.196612    .288889    .220915    .040979   152.65686        1   .0000286 |
1891. |  .564052    .435948    .378623    .288889    .220915    .040979   152.65686        1   .0000286 |
      |-------------------------------------------------------------------------------------------------|
1892. |  .564052    .435948    .091006   -.164357    .220915    .040979   152.65686        0   .0000286 |
1893. |  .564052    .435948    .091006    .742135    .220915    .040979   152.65686        0   .0000286 |
1894. |  .564052    .435948    .091006   -.164357    .220915    .040979   152.65686        1   .0000286 |
1895. |  .564052    .435948    .091006    .742135    .220915    .040979   152.65686        1   .0000286 |
      |-------------------------------------------------------------------------------------------------|
1896. |  .564052    .435948    .091006    .288889   -.193948    .040979   152.65686        0   .0000286 |
1897. |  .564052    .435948    .091006    .288889    .635778    .040979   152.65686        0   .0000286 |
1898. |  .564052    .435948    .091006    .288889   -.193948    .040979   152.65686        1   .0000286 |
1899. |  .564052    .435948    .091006    .288889    .635778    .040979   152.65686        1   .0000286 |
      |-------------------------------------------------------------------------------------------------|
1900. |  .564052    .435948    .091006    .288889    .220915   -.157263   152.65686        0   .0000286 |
1901. |  .564052    .435948    .091006    .288889    .220915    .239221   152.65686        0   .0000286 |
1902. |  .564052    .435948    .091006    .288889    .220915   -.157263   152.65686        1   .0000286 |
1903. |  .564052    .435948    .091006    .288889    .220915    .239221   152.65686        1   .0000286 |
      |-------------------------------------------------------------------------------------------------|
1904. |  .564052    .435948    .091006    .288889    .220915    .040979   137.17241        0   .0000286 |
1905. |  .564052    .435948    .091006    .288889    .220915    .040979   168.14131        0   .0000286 |
1906. |  .564052    .435948    .091006    .288889    .220915    .040979   137.17241        1   .0000286 |
1907. |  .564052    .435948    .091006    .288889    .220915    .040979   168.14131        1   .0000286 |
      +-------------------------------------------------------------------------------------------------+

Analysis after augmentation:

Iteration 0:   log likelihood = -432.83845  
Iteration 1:   log likelihood = -392.97689  
Iteration 2:   log likelihood = -384.33022  
Iteration 3:   log likelihood = -384.31179  
Iteration 4:   log likelihood = -384.31179  
Iteration 5:   log likelihood = -384.31178  
Iteration 6:   log likelihood = -384.31178  
Iteration 7:   log likelihood = -384.31131  (backed up)
Iteration 8:   log likelihood = -384.31119  (backed up)
Iteration 9:   log likelihood = -384.31093  (backed up)
Iteration 10:  log likelihood = -384.31077  (backed up)
Iteration 11:  log likelihood =  -384.3102  
Iteration 12:  log likelihood = -384.31017  

Logistic regression                                     Number of obs =  1,558
                                                        LR chi2(7)    =  97.06
                                                        Prob > chi2   = 0.0000
Log likelihood = -384.31017                             Pseudo R2     = 0.1121

--------------------------------------------------------------------------------
        hisbpl | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
---------------+----------------------------------------------------------------
    _Iagegp_30 |   -.143177   314.5715    -0.00   1.000     -616.692    616.4056
    _Iagegp_45 |   .1431771   314.5715     0.00   1.000    -616.4056     616.692
    _Iagegp_70 |   14.19204   1006.747     0.01   0.989    -1958.996     1987.38
_ItrtXage_1_30 |  -.3006196   .2661599    -1.13   0.259    -.8222834    .2210441
_ItrtXage_1_45 |  -1.216276    .317058    -3.84   0.000    -1.837699    -.594854
_ItrtXage_1_70 |   6.938353   1149.104     0.01   0.995    -2245.263     2259.14
          sbpi |   .0517367   .0059204     8.74   0.000     .0401329    .0633406
         _cons |  -10.27964    314.573    -0.03   0.974    -626.8313     606.272
--------------------------------------------------------------------------------
trial==ANBP: perfect prediction has been fixed


-> trial==COOP

note: _Iagegp_30 omitted because of collinearity.
note: _Iagegp_70 omitted because of collinearity.
note: _ItrtXage_1_30 omitted because of collinearity.
Iteration 0:   log likelihood = -211.73146  
Iteration 1:   log likelihood = -192.11002  
Iteration 2:   log likelihood = -191.41031  
Iteration 3:   log likelihood = -191.40765  
Iteration 4:   log likelihood = -191.40765  

Logistic regression                                     Number of obs =    349
                                                        LR chi2(4)    =  40.65
                                                        Prob > chi2   = 0.0000
Log likelihood = -191.40765                             Pseudo R2     = 0.0960

--------------------------------------------------------------------------------
        hisbpl | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
---------------+----------------------------------------------------------------
    _Iagegp_30 |          0  (omitted)
    _Iagegp_45 |   .5702222   .3664545     1.56   0.120    -.1480154     1.28846
    _Iagegp_70 |          0  (omitted)
_ItrtXage_1_30 |          0  (omitted)
_ItrtXage_1_45 |  -1.704333   .3588102    -4.75   0.000    -2.407588   -1.001078
_ItrtXage_1_70 |  -.5248575   .3496655    -1.50   0.133    -1.210189    .1604743
          sbpi |   .0284008   .0086996     3.26   0.001     .0113499    .0454517
         _cons |  -4.244705   1.663305    -2.55   0.011    -7.504723   -.9846866
--------------------------------------------------------------------------------

trial==COOP: perfect prediction or inestimable parameter
   (parameters y_ItrtXage_1_30 have been dropped)
trial==COOP: attempting to fix perfect prediction by augmenting with .0001 observations per parameter
Adding 28 pseudo-observations with total weight .0008

Listing of added records:

      +-------------------------------------------------------------------------------------------------+
      | _Iage~30   _Iage~45   _Iage~70   _It~1_30   _It~1_45   _It~1_70        sbpi   hisbpl     weight |
      |-------------------------------------------------------------------------------------------------|
1880. | -.039053    .510029    .489971    .235232    .209169     .22063   190.85673        0   .0000286 |
1881. |  .957627    .510029    .489971    .235232    .209169     .22063   190.85673        0   .0000286 |
1882. | -.039053    .510029    .489971    .235232    .209169     .22063   190.85673        1   .0000286 |
1883. |  .957627    .510029    .489971    .235232    .209169     .22063   190.85673        1   .0000286 |
      |-------------------------------------------------------------------------------------------------|
1884. |  .459287    .010129    .489971    .235232    .209169     .22063   190.85673        0   .0000286 |
1885. |  .459287    1.00993    .489971    .235232    .209169     .22063   190.85673        0   .0000286 |
1886. |  .459287    .010129    .489971    .235232    .209169     .22063   190.85673        1   .0000286 |
1887. |  .459287    1.00993    .489971    .235232    .209169     .22063   190.85673        1   .0000286 |
      |-------------------------------------------------------------------------------------------------|
1888. |  .459287    .510029   -.009928    .235232    .209169     .22063   190.85673        0   .0000286 |
1889. |  .459287    .510029    .989871    .235232    .209169     .22063   190.85673        0   .0000286 |
1890. |  .459287    .510029   -.009928    .235232    .209169     .22063   190.85673        1   .0000286 |
1891. |  .459287    .510029    .989871    .235232    .209169     .22063   190.85673        1   .0000286 |
      |-------------------------------------------------------------------------------------------------|
1892. |  .459287    .510029    .489971   -.188912    .209169     .22063   190.85673        0   .0000286 |
1893. |  .459287    .510029    .489971    .659375    .209169     .22063   190.85673        0   .0000286 |
1894. |  .459287    .510029    .489971   -.188912    .209169     .22063   190.85673        1   .0000286 |
1895. |  .459287    .510029    .489971    .659375    .209169     .22063   190.85673        1   .0000286 |
      |-------------------------------------------------------------------------------------------------|
1896. |  .459287    .510029    .489971    .235232   -.197546     .22063   190.85673        0   .0000286 |
1897. |  .459287    .510029    .489971    .235232    .615884     .22063   190.85673        0   .0000286 |
1898. |  .459287    .510029    .489971    .235232   -.197546     .22063   190.85673        1   .0000286 |
1899. |  .459287    .510029    .489971    .235232    .615884     .22063   190.85673        1   .0000286 |
      |-------------------------------------------------------------------------------------------------|
1900. |  .459287    .510029    .489971    .235232    .209169   -.194041   190.85673        0   .0000286 |
1901. |  .459287    .510029    .489971    .235232    .209169    .635302   190.85673        0   .0000286 |
1902. |  .459287    .510029    .489971    .235232    .209169   -.194041   190.85673        1   .0000286 |
1903. |  .459287    .510029    .489971    .235232    .209169    .635302   190.85673        1   .0000286 |
      |-------------------------------------------------------------------------------------------------|
1904. |  .459287    .510029    .489971    .235232    .209169     .22063   173.87192        0   .0000286 |
1905. |  .459287    .510029    .489971    .235232    .209169     .22063   207.84154        0   .0000286 |
1906. |  .459287    .510029    .489971    .235232    .209169     .22063   173.87192        1   .0000286 |
1907. |  .459287    .510029    .489971    .235232    .209169     .22063   207.84154        1   .0000286 |
      +-------------------------------------------------------------------------------------------------+

Analysis after augmentation:

Iteration 0:   log likelihood = -211.73209  
Iteration 1:   log likelihood =  -192.1106  
Iteration 2:   log likelihood = -191.41088  
Iteration 3:   log likelihood = -191.40823  
Iteration 4:   log likelihood = -191.40823  

Logistic regression                                     Number of obs =    377
                                                        LR chi2(7)    =  40.65
                                                        Prob > chi2   = 0.0000
Log likelihood = -191.40823                             Pseudo R2     = 0.0960

--------------------------------------------------------------------------------
        hisbpl | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
---------------+----------------------------------------------------------------
    _Iagegp_30 |  -1.422092   229.1127    -0.01   0.995    -450.4747    447.6305
    _Iagegp_45 |   .2851106   265.7014     0.00   0.999    -520.4801    521.0504
    _Iagegp_70 |  -.2851107   265.7014    -0.00   0.999    -521.0504    520.4801
_ItrtXage_1_30 |  -.9794552   397.3161    -0.00   0.998    -779.7047    777.7458
_ItrtXage_1_45 |  -1.704332     .35881    -4.75   0.000    -2.407586   -1.001077
_ItrtXage_1_70 |  -.5248572   .3496654    -1.50   0.133    -1.210189    .1604743
          sbpi |   .0284008   .0086996     3.26   0.001     .0113499    .0454516
         _cons |   -3.95959   265.7064    -0.01   0.988    -524.7346    516.8154
--------------------------------------------------------------------------------
trial==COOP: perfect prediction has been fixed

file z2.dta saved





logit hisbpl: 3. parameterised as main treatment effect and 2 interactions
Learning equation names...
Using coefficients: _Itrt_1 _ItrtXage_1_45 _ItrtXage_1_70 
(file z3.dta not found)


-> trial==ANBP

note: _Iagegp_70 omitted because of collinearity.
note: _ItrtXage_1_70 omitted because of collinearity.
Iteration 0:   log likelihood = -432.83742  
Iteration 1:   log likelihood = -392.97592  
Iteration 2:   log likelihood = -384.32886  
Iteration 3:   log likelihood = -384.30932  
Iteration 4:   log likelihood = -384.30932  

Logistic regression                                     Number of obs =  1,530
                                                        LR chi2(4)    =  97.06
                                                        Prob > chi2   = 0.0000
Log likelihood = -384.30932                             Pseudo R2     = 0.1121

--------------------------------------------------------------------------------
        hisbpl | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
---------------+----------------------------------------------------------------
       _Itrt_1 |  -.3006195   .2661606    -1.13   0.259    -.8222846    .2210456
    _Iagegp_45 |   .2863548   .2462532     1.16   0.245    -.1962925    .7690022
    _Iagegp_70 |          0  (omitted)
_ItrtXage_1_45 |  -.9156976   .4148066    -2.21   0.027    -1.728704   -.1026915
_ItrtXage_1_70 |          0  (omitted)
          sbpi |    .051737   .0059205     8.74   0.000     .0401331    .0633409
         _cons |  -10.42287    .974467   -10.70   0.000    -12.33279   -8.512952
--------------------------------------------------------------------------------

trial==ANBP: perfect prediction or inestimable parameter
   (parameters y_ItrtXage_1_70 have been dropped)
trial==ANBP: attempting to fix perfect prediction by augmenting with .0001 observations per parameter
Adding 24 pseudo-observations with total weight .0007

Listing of added records:

      +-------------------------------------------------------------------------------------+
      | _Itrt_1   _Iage~45   _Iage~70   _It~1_45   _It~1_70        sbpi   hisbpl     weight |
      |-------------------------------------------------------------------------------------|
1880. |   .0099    .435948    .091006    .220915    .040979   152.65686        0   .0000292 |
1881. | 1.00971    .435948    .091006    .220915    .040979   152.65686        0   .0000292 |
1882. |   .0099    .435948    .091006    .220915    .040979   152.65686        1   .0000292 |
1883. | 1.00971    .435948    .091006    .220915    .040979   152.65686        1   .0000292 |
      |-------------------------------------------------------------------------------------|
1884. | .509804   -.059933    .091006    .220915    .040979   152.65686        0   .0000292 |
1885. | .509804    .931828    .091006    .220915    .040979   152.65686        0   .0000292 |
1886. | .509804   -.059933    .091006    .220915    .040979   152.65686        1   .0000292 |
1887. | .509804    .931828    .091006    .220915    .040979   152.65686        1   .0000292 |
      |-------------------------------------------------------------------------------------|
1888. | .509804    .435948   -.196612    .220915    .040979   152.65686        0   .0000292 |
1889. | .509804    .435948    .378623    .220915    .040979   152.65686        0   .0000292 |
1890. | .509804    .435948   -.196612    .220915    .040979   152.65686        1   .0000292 |
1891. | .509804    .435948    .378623    .220915    .040979   152.65686        1   .0000292 |
      |-------------------------------------------------------------------------------------|
1892. | .509804    .435948    .091006   -.193948    .040979   152.65686        0   .0000292 |
1893. | .509804    .435948    .091006    .635778    .040979   152.65686        0   .0000292 |
1894. | .509804    .435948    .091006   -.193948    .040979   152.65686        1   .0000292 |
1895. | .509804    .435948    .091006    .635778    .040979   152.65686        1   .0000292 |
      |-------------------------------------------------------------------------------------|
1896. | .509804    .435948    .091006    .220915   -.157263   152.65686        0   .0000292 |
1897. | .509804    .435948    .091006    .220915    .239221   152.65686        0   .0000292 |
1898. | .509804    .435948    .091006    .220915   -.157263   152.65686        1   .0000292 |
1899. | .509804    .435948    .091006    .220915    .239221   152.65686        1   .0000292 |
      |-------------------------------------------------------------------------------------|
1900. | .509804    .435948    .091006    .220915    .040979   137.17241        0   .0000292 |
1901. | .509804    .435948    .091006    .220915    .040979   168.14131        0   .0000292 |
1902. | .509804    .435948    .091006    .220915    .040979   137.17241        1   .0000292 |
1903. | .509804    .435948    .091006    .220915    .040979   168.14131        1   .0000292 |
      +-------------------------------------------------------------------------------------+

Analysis after augmentation:

Iteration 0:   log likelihood = -432.83832  
Iteration 1:   log likelihood = -392.97679  
Iteration 2:   log likelihood = -384.32992  
Iteration 3:   log likelihood = -384.31042  
Iteration 4:   log likelihood = -384.31024  
Iteration 5:   log likelihood = -384.31012  
Iteration 6:   log likelihood = -384.31009  
Iteration 7:   log likelihood = -384.31008  

Logistic regression                                     Number of obs =  1,554
                                                        LR chi2(6)    =  97.06
                                                        Prob > chi2   = 0.0000
Log likelihood = -384.31008                             Pseudo R2     = 0.1121

--------------------------------------------------------------------------------
        hisbpl | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
---------------+----------------------------------------------------------------
       _Itrt_1 |  -.3006193   .2661603    -1.13   0.259    -.8222838    .2210453
    _Iagegp_45 |   .2863544    .246253     1.16   0.245    -.1962926    .7690014
    _Iagegp_70 |   10.96426   852.2608     0.01   0.990    -1659.436    1681.365
_ItrtXage_1_45 |  -.9156959   .4148061    -2.21   0.027    -1.728701   -.1026908
_ItrtXage_1_70 |   9.217892   1155.681     0.01   0.994    -2255.875    2274.311
          sbpi |    .051737   .0059205     8.74   0.000     .0401331    .0633409
         _cons |  -10.42286   .9744662   -10.70   0.000    -12.33278   -8.512942
--------------------------------------------------------------------------------
trial==ANBP: perfect prediction has been fixed


-> trial==COOP

note: _Iagegp_70 omitted because of collinearity.
note: _ItrtXage_1_70 omitted because of collinearity.
Iteration 0:   log likelihood = -211.73146  
Iteration 1:   log likelihood = -192.11002  
Iteration 2:   log likelihood = -191.41031  
Iteration 3:   log likelihood = -191.40765  
Iteration 4:   log likelihood = -191.40765  

Logistic regression                                     Number of obs =    349
                                                        LR chi2(4)    =  40.65
                                                        Prob > chi2   = 0.0000
Log likelihood = -191.40765                             Pseudo R2     = 0.0960

--------------------------------------------------------------------------------
        hisbpl | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
---------------+----------------------------------------------------------------
       _Itrt_1 |  -.5248575   .3496655    -1.50   0.133    -1.210189    .1604743
    _Iagegp_45 |   .5702222   .3664545     1.56   0.120    -.1480154     1.28846
    _Iagegp_70 |          0  (omitted)
_ItrtXage_1_45 |  -1.179476   .5008147    -2.36   0.019    -2.161055   -.1978969
_ItrtXage_1_70 |          0  (omitted)
          sbpi |   .0284008   .0086996     3.26   0.001     .0113499    .0454517
         _cons |  -4.244705   1.663305    -2.55   0.011    -7.504723   -.9846866
--------------------------------------------------------------------------------

trial==COOP: perfect prediction or inestimable parameter
   (parameters y_ItrtXage_1_70 have been dropped)
trial==COOP: attempting to fix perfect prediction by augmenting with .0001 observations per parameter
Adding 24 pseudo-observations with total weight .0007

Listing of added records:

      +--------------------------------------------------------------------------------------+
      |  _Itrt_1   _Iage~45   _Iage~70   _It~1_45   _It~1_70        sbpi   hisbpl     weight |
      |--------------------------------------------------------------------------------------|
1880. | -.065248    .510029    .489971    .209169     .22063   190.85673        0   .0000292 |
1881. |  .924847    .510029    .489971    .209169     .22063   190.85673        0   .0000292 |
1882. | -.065248    .510029    .489971    .209169     .22063   190.85673        1   .0000292 |
1883. |  .924847    .510029    .489971    .209169     .22063   190.85673        1   .0000292 |
      |--------------------------------------------------------------------------------------|
1884. |  .429799    .010129    .489971    .209169     .22063   190.85673        0   .0000292 |
1885. |  .429799    1.00993    .489971    .209169     .22063   190.85673        0   .0000292 |
1886. |  .429799    .010129    .489971    .209169     .22063   190.85673        1   .0000292 |
1887. |  .429799    1.00993    .489971    .209169     .22063   190.85673        1   .0000292 |
      |--------------------------------------------------------------------------------------|
1888. |  .429799    .510029   -.009928    .209169     .22063   190.85673        0   .0000292 |
1889. |  .429799    .510029    .989871    .209169     .22063   190.85673        0   .0000292 |
1890. |  .429799    .510029   -.009928    .209169     .22063   190.85673        1   .0000292 |
1891. |  .429799    .510029    .989871    .209169     .22063   190.85673        1   .0000292 |
      |--------------------------------------------------------------------------------------|
1892. |  .429799    .510029    .489971   -.197546     .22063   190.85673        0   .0000292 |
1893. |  .429799    .510029    .489971    .615884     .22063   190.85673        0   .0000292 |
1894. |  .429799    .510029    .489971   -.197546     .22063   190.85673        1   .0000292 |
1895. |  .429799    .510029    .489971    .615884     .22063   190.85673        1   .0000292 |
      |--------------------------------------------------------------------------------------|
1896. |  .429799    .510029    .489971    .209169   -.194041   190.85673        0   .0000292 |
1897. |  .429799    .510029    .489971    .209169    .635302   190.85673        0   .0000292 |
1898. |  .429799    .510029    .489971    .209169   -.194041   190.85673        1   .0000292 |
1899. |  .429799    .510029    .489971    .209169    .635302   190.85673        1   .0000292 |
      |--------------------------------------------------------------------------------------|
1900. |  .429799    .510029    .489971    .209169     .22063   173.87192        0   .0000292 |
1901. |  .429799    .510029    .489971    .209169     .22063   207.84154        0   .0000292 |
1902. |  .429799    .510029    .489971    .209169     .22063   173.87192        1   .0000292 |
1903. |  .429799    .510029    .489971    .209169     .22063   207.84154        1   .0000292 |
      +--------------------------------------------------------------------------------------+

Analysis after augmentation:

Iteration 0:   log likelihood = -211.73201  
Iteration 1:   log likelihood = -192.11059  
Iteration 2:   log likelihood = -191.41088  
Iteration 3:   log likelihood = -191.40823  
Iteration 4:   log likelihood = -191.40823  

Logistic regression                                     Number of obs =    373
                                                        LR chi2(6)    =  40.65
                                                        Prob > chi2   = 0.0000
Log likelihood = -191.40823                             Pseudo R2     = 0.0960

--------------------------------------------------------------------------------
        hisbpl | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
---------------+----------------------------------------------------------------
       _Itrt_1 |  -.6380609   274.4547    -0.00   0.998    -538.5593    537.2832
    _Iagegp_45 |   .2851102   295.2288     0.00   0.999    -578.3527    578.9229
    _Iagegp_70 |  -.2851104   295.2288    -0.00   0.999    -578.9229    578.3527
_ItrtXage_1_45 |   -1.06627   274.4548    -0.00   0.997    -538.9878    536.8552
_ItrtXage_1_70 |   .1132038   274.4548     0.00   1.000    -537.8083    538.0347
          sbpi |   .0284007   .0086996     3.26   0.001     .0113498    .0454516
         _cons |  -3.959586   295.2333    -0.01   0.989    -582.6062     574.687
--------------------------------------------------------------------------------
trial==COOP: perfect prediction has been fixed

file z3.dta saved
Note: using method fixed
Note: using variables y_ItrtXage_1_30 y_ItrtXage_1_45 y_ItrtXage_1_70
Note: 2 observations on 3 variables

Multivariate meta-analysis
Variance-covariance matrix = (none)
Method = fixed                                 Number of dimensions    =     3
                                               Number of observations  =     2
---------------------------------------------------------------------------------
                | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
----------------+----------------------------------------------------------------
Overall_mean    |
y_ItrtXage_1_30 |  -.2998802   .2661596    -1.13   0.260    -.8215434    .2217829
y_ItrtXage_1_45 |  -1.430296   .2375925    -6.02   0.000    -1.895968   -.9646228
y_ItrtXage_1_70 |  -.5246496   .3496655    -1.50   0.134    -1.209981    .1606821
---------------------------------------------------------------------------------
Note: using method fixed
Note: using variables y_ItrtXage_1_30 y_ItrtXage_1_45 y_ItrtXage_1_70
Note: 2 observations on 3 variables

Multivariate meta-analysis
Variance-covariance matrix = (none)
Method = fixed                                 Number of dimensions    =     3
                                               Number of observations  =     2
---------------------------------------------------------------------------------
                | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
----------------+----------------------------------------------------------------
Overall_mean    |
y_ItrtXage_1_30 |  -.2998806   .2661588    -1.13   0.260    -.8215423    .2217811
y_ItrtXage_1_45 |  -1.430269   .2375906    -6.02   0.000    -1.895938   -.9645998
y_ItrtXage_1_70 |  -.5246485   .3496653    -1.50   0.134     -1.20998    .1606828
---------------------------------------------------------------------------------

Relative error is 8.384e-07
Note: using method fixed
Note: using variables y_Itrt_1 y_ItrtXage_1_45 y_ItrtXage_1_70
Note: 2 observations on 3 variables

Multivariate meta-analysis
Variance-covariance matrix = (none)
Method = fixed                                 Number of dimensions    =     3
                                               Number of observations  =     2
---------------------------------------------------------------------------------
                | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
----------------+----------------------------------------------------------------
Overall_mean    |
       y_Itrt_1 |  -.2998808   .2661592    -1.13   0.260    -.8215431    .2217816
y_ItrtXage_1_45 |  -1.130412   .3573244    -3.16   0.002    -1.830755   -.4300695
y_ItrtXage_1_70 |  -.2247674    .439439    -0.51   0.609    -1.086052    .6365172
---------------------------------------------------------------------------------

_ItrtXage~30: _b[y_Itrt_1]
_ItrtXage~45: _b[y_Itrt_1] + _b[y_ItrtXage_1_45]
_ItrtXage~70: _b[y_Itrt_1] + _b[y_ItrtXage_1_70]

--------------------------------------------------------------------------------
               | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
---------------+----------------------------------------------------------------
_ItrtXage_1_30 |  -.2998808   .2661592    -1.13   0.260    -.8215431    .2217816
_ItrtXage_1_45 |  -1.430293   .2375922    -6.02   0.000    -1.895965    -.964621
_ItrtXage_1_70 |  -.5246481   .3496652    -1.50   0.134    -1.209979     .160683
--------------------------------------------------------------------------------

Relative error is 2.031e-07
(Savastata created this dataset on 12MAY2007)
(26,702 observations deleted)

Summary for variables: age
Group variable: agegp 

   agegp |         N       Min       Max
---------+------------------------------
      30 |       863        30        44
      45 |       845        45        69
      70 |       171        70        81
---------+------------------------------
   Total |      1879        30        81
----------------------------------------

           |              agegp
     trial |        30         45         70 |     Total
-----------+---------------------------------+----------
      ANBP |       863        667          0 |     1,530 
      COOP |         0        178        171 |       349 
-----------+---------------------------------+----------
     Total |       863        845        171 |     1,879 
i.trt*i.agegp     _ItrtXage_#_#       (coded as above)





regress sbpl: 1. parameterised as subgroup-specific treatment effect, ppfix not needed
Learning equation names...
Using coefficients: _ItrtXage_1_30 _ItrtXage_1_45 _ItrtXage_1_70 


-> trial==ANBP
note: _Iagegp_45 omitted because of collinearity.
note: _Iagegp_70 omitted because of collinearity.
note: _ItrtXage_1_70 omitted because of collinearity.

      Source |       SS           df       MS      Number of obs   =     1,530
-------------+----------------------------------   F(4, 1525)      =     48.94
       Model |  53992.2236         4  13498.0559   Prob > F        =    0.0000
    Residual |  420573.389     1,525  275.785829   R-squared       =    0.1138
-------------+----------------------------------   Adj R-squared   =    0.1114
       Total |  474565.613     1,529  310.376463   Root MSE        =    16.607

--------------------------------------------------------------------------------
          sbpl | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
---------------+----------------------------------------------------------------
    _Iagegp_30 |  -.9914003   1.222834    -0.81   0.418    -3.390015    1.407214
    _Iagegp_45 |          0  (omitted)
    _Iagegp_70 |          0  (omitted)
_ItrtXage_1_30 |   -5.16063    1.13213    -4.56   0.000    -7.381326   -2.939934
_ItrtXage_1_45 |  -8.610148   1.286305    -6.69   0.000    -11.13326   -6.087035
_ItrtXage_1_70 |          0  (omitted)
          sbpi |   .3112125   .0275738    11.29   0.000      .257126     .365299
         _cons |   92.67514   4.342752    21.34   0.000     84.15674    101.1935
--------------------------------------------------------------------------------

trial==ANBP: perfect prediction or inestimable parameter
   (parameters y_ItrtXage_1_70 have been dropped)
trial==ANBP: perfect prediction fixing disabled
trial==ANBP: missing S_ItrtXage_1_30_ItrtXage_1_70
trial==ANBP: missing S_ItrtXage_1_45_ItrtXage_1_70
trial==ANBP: missing _ItrtXage_1_70
trial==ANBP: missing S_ItrtXage_1_70_ItrtXage_1_70


-> trial==COOP
note: _Iagegp_30 omitted because of collinearity.
note: _Iagegp_70 omitted because of collinearity.
note: _ItrtXage_1_30 omitted because of collinearity.

      Source |       SS           df       MS      Number of obs   =       349
-------------+----------------------------------   F(4, 344)       =     23.62
       Model |  37882.3611         4  9470.59027   Prob > F        =    0.0000
    Residual |  137916.768       344  400.920837   R-squared       =    0.2155
-------------+----------------------------------   Adj R-squared   =    0.2064
       Total |  175799.129       348  505.169911   Root MSE        =    20.023

--------------------------------------------------------------------------------
          sbpl | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
---------------+----------------------------------------------------------------
    _Iagegp_30 |          0  (omitted)
    _Iagegp_45 |   3.968186   2.853833     1.39   0.165    -1.644972    9.581343
    _Iagegp_70 |          0  (omitted)
_ItrtXage_1_30 |          0  (omitted)
_ItrtXage_1_45 |  -18.58448   3.058096    -6.08   0.000     -24.5994   -12.56956
_ItrtXage_1_70 |  -9.674953   3.077757    -3.14   0.002    -15.72854   -3.621362
          sbpi |   .4111147   .0639381     6.43   0.000     .2853559    .5368735
         _cons |   99.05261   12.54857     7.89   0.000     74.37104    123.7342
--------------------------------------------------------------------------------

trial==COOP: perfect prediction or inestimable parameter
   (parameters y_ItrtXage_1_30 have been dropped)
trial==COOP: perfect prediction fixing disabled
trial==COOP: missing _ItrtXage_1_30
trial==COOP: missing S_ItrtXage_1_30_ItrtXage_1_30
trial==COOP: missing S_ItrtXage_1_30_ItrtXage_1_45
trial==COOP: missing S_ItrtXage_1_30_ItrtXage_1_70

file z1.dta saved





regress sbpl: 2. parameterised as subgroup-specific treatment effect, with ppfix anyway
Learning equation names...
Using coefficients: _ItrtXage_1_30 _ItrtXage_1_45 _ItrtXage_1_70 


-> trial==ANBP
note: _Iagegp_45 omitted because of collinearity.
note: _Iagegp_70 omitted because of collinearity.
note: _ItrtXage_1_70 omitted because of collinearity.

      Source |       SS           df       MS      Number of obs   =     1,530
-------------+----------------------------------   F(4, 1525)      =     48.94
       Model |  53992.2236         4  13498.0559   Prob > F        =    0.0000
    Residual |  420573.389     1,525  275.785829   R-squared       =    0.1138
-------------+----------------------------------   Adj R-squared   =    0.1114
       Total |  474565.613     1,529  310.376463   Root MSE        =    16.607

--------------------------------------------------------------------------------
          sbpl | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
---------------+----------------------------------------------------------------
    _Iagegp_30 |  -.9914003   1.222834    -0.81   0.418    -3.390015    1.407214
    _Iagegp_45 |          0  (omitted)
    _Iagegp_70 |          0  (omitted)
_ItrtXage_1_30 |   -5.16063    1.13213    -4.56   0.000    -7.381326   -2.939934
_ItrtXage_1_45 |  -8.610148   1.286305    -6.69   0.000    -11.13326   -6.087035
_ItrtXage_1_70 |          0  (omitted)
          sbpi |   .3112125   .0275738    11.29   0.000      .257126     .365299
         _cons |   92.67514   4.342752    21.34   0.000     84.15674    101.1935
--------------------------------------------------------------------------------

trial==ANBP: perfect prediction or inestimable parameter
   (parameters y_ItrtXage_1_70 have been dropped)
trial==ANBP: attempting to fix perfect prediction by augmenting with .0001 observations per parameter
Adding 28 pseudo-observations with total weight .0008

Listing of added records:

      +----------------------------------------------------------------------------------------------------+
      | _Iage~30   _Iage~45   _Iage~70   _It~1_30   _It~1_45   _It~1_70        sbpi        sbpl     weight |
      |----------------------------------------------------------------------------------------------------|
1880. |  .068172    .435948    .091006    .288889    .220915    .040979   152.65686   119.56301   .0000286 |
1881. |  1.05993    .435948    .091006    .288889    .220915    .040979   152.65686   119.56301   .0000286 |
1882. |  .068172    .435948    .091006    .288889    .220915    .040979   152.65686   166.75151   .0000286 |
1883. |  1.05993    .435948    .091006    .288889    .220915    .040979   152.65686   166.75151   .0000286 |
      |----------------------------------------------------------------------------------------------------|
1884. |  .564052   -.059933    .091006    .288889    .220915    .040979   152.65686   119.56301   .0000286 |
1885. |  .564052    .931828    .091006    .288889    .220915    .040979   152.65686   119.56301   .0000286 |
1886. |  .564052   -.059933    .091006    .288889    .220915    .040979   152.65686   166.75151   .0000286 |
1887. |  .564052    .931828    .091006    .288889    .220915    .040979   152.65686   166.75151   .0000286 |
      |----------------------------------------------------------------------------------------------------|
1888. |  .564052    .435948   -.196612    .288889    .220915    .040979   152.65686   119.56301   .0000286 |
1889. |  .564052    .435948    .378623    .288889    .220915    .040979   152.65686   119.56301   .0000286 |
1890. |  .564052    .435948   -.196612    .288889    .220915    .040979   152.65686   166.75151   .0000286 |
1891. |  .564052    .435948    .378623    .288889    .220915    .040979   152.65686   166.75151   .0000286 |
      |----------------------------------------------------------------------------------------------------|
1892. |  .564052    .435948    .091006   -.164357    .220915    .040979   152.65686   119.56301   .0000286 |
1893. |  .564052    .435948    .091006    .742135    .220915    .040979   152.65686   119.56301   .0000286 |
1894. |  .564052    .435948    .091006   -.164357    .220915    .040979   152.65686   166.75151   .0000286 |
1895. |  .564052    .435948    .091006    .742135    .220915    .040979   152.65686   166.75151   .0000286 |
      |----------------------------------------------------------------------------------------------------|
1896. |  .564052    .435948    .091006    .288889   -.193948    .040979   152.65686   119.56301   .0000286 |
1897. |  .564052    .435948    .091006    .288889    .635778    .040979   152.65686   119.56301   .0000286 |
1898. |  .564052    .435948    .091006    .288889   -.193948    .040979   152.65686   166.75151   .0000286 |
1899. |  .564052    .435948    .091006    .288889    .635778    .040979   152.65686   166.75151   .0000286 |
      |----------------------------------------------------------------------------------------------------|
1900. |  .564052    .435948    .091006    .288889    .220915   -.157263   152.65686   119.56301   .0000286 |
1901. |  .564052    .435948    .091006    .288889    .220915    .239221   152.65686   119.56301   .0000286 |
1902. |  .564052    .435948    .091006    .288889    .220915   -.157263   152.65686   166.75151   .0000286 |
1903. |  .564052    .435948    .091006    .288889    .220915    .239221   152.65686   166.75151   .0000286 |
      |----------------------------------------------------------------------------------------------------|
1904. |  .564052    .435948    .091006    .288889    .220915    .040979   137.17241   119.56301   .0000286 |
1905. |  .564052    .435948    .091006    .288889    .220915    .040979   168.14131   119.56301   .0000286 |
1906. |  .564052    .435948    .091006    .288889    .220915    .040979   137.17241   166.75151   .0000286 |
1907. |  .564052    .435948    .091006    .288889    .220915    .040979   168.14131   166.75151   .0000286 |
      +----------------------------------------------------------------------------------------------------+

Analysis after augmentation:

      Source |       SS           df       MS      Number of obs   =     1,530
-------------+----------------------------------   F(7, 1522)      =     27.91
       Model |   53992.238         7  7713.17686   Prob > F        =    0.0000
    Residual |  420573.858     1,522  276.329736   R-squared       =    0.1138
-------------+----------------------------------   Adj R-squared   =    0.1097
       Total |  474566.096     1,529   310.37678   Root MSE        =    16.623

--------------------------------------------------------------------------------
          sbpl | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
---------------+----------------------------------------------------------------
    _Iagegp_30 |     -.4957   2217.307    -0.00   1.000    -4349.797    4348.805
    _Iagegp_45 |   .4957001   2217.307     0.00   1.000    -4348.805    4349.797
    _Iagegp_70 |   26.66717   4357.308     0.01   0.995    -8520.297    8573.631
_ItrtXage_1_30 |   -5.16063   1.133245    -4.55   0.000    -7.383517   -2.937742
_ItrtXage_1_45 |  -8.610147   1.287572    -6.69   0.000    -11.13575   -6.084544
_ItrtXage_1_70 |   25.27609   7233.414     0.00   0.997    -14163.24    14213.79
          sbpi |   .3112125   .0276009    11.28   0.000     .2570726    .3653523
         _cons |   92.17944   2217.311     0.04   0.967     -4257.13    4441.488
--------------------------------------------------------------------------------
trial==ANBP: perfect prediction has been fixed


-> trial==COOP
note: _Iagegp_30 omitted because of collinearity.
note: _Iagegp_70 omitted because of collinearity.
note: _ItrtXage_1_30 omitted because of collinearity.

      Source |       SS           df       MS      Number of obs   =       349
-------------+----------------------------------   F(4, 344)       =     23.62
       Model |  37882.3611         4  9470.59027   Prob > F        =    0.0000
    Residual |  137916.768       344  400.920837   R-squared       =    0.2155
-------------+----------------------------------   Adj R-squared   =    0.2064
       Total |  175799.129       348  505.169911   Root MSE        =    20.023

--------------------------------------------------------------------------------
          sbpl | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
---------------+----------------------------------------------------------------
    _Iagegp_30 |          0  (omitted)
    _Iagegp_45 |   3.968186   2.853833     1.39   0.165    -1.644972    9.581343
    _Iagegp_70 |          0  (omitted)
_ItrtXage_1_30 |          0  (omitted)
_ItrtXage_1_45 |  -18.58448   3.058096    -6.08   0.000     -24.5994   -12.56956
_ItrtXage_1_70 |  -9.674953   3.077757    -3.14   0.002    -15.72854   -3.621362
          sbpi |   .4111147   .0639381     6.43   0.000     .2853559    .5368735
         _cons |   99.05261   12.54857     7.89   0.000     74.37104    123.7342
--------------------------------------------------------------------------------

trial==COOP: perfect prediction or inestimable parameter
   (parameters y_ItrtXage_1_30 have been dropped)
trial==COOP: attempting to fix perfect prediction by augmenting with .0001 observations per parameter
Adding 28 pseudo-observations with total weight .0008

Listing of added records:

      +----------------------------------------------------------------------------------------------------+
      | _Iage~30   _Iage~45   _Iage~70   _It~1_30   _It~1_45   _It~1_70        sbpi        sbpl     weight |
      |----------------------------------------------------------------------------------------------------|
1880. | -.039053    .510029    .489971    .235232    .209169     .22063   190.85673   119.56301   .0000286 |
1881. |  .957627    .510029    .489971    .235232    .209169     .22063   190.85673   119.56301   .0000286 |
1882. | -.039053    .510029    .489971    .235232    .209169     .22063   190.85673   166.75151   .0000286 |
1883. |  .957627    .510029    .489971    .235232    .209169     .22063   190.85673   166.75151   .0000286 |
      |----------------------------------------------------------------------------------------------------|
1884. |  .459287    .010129    .489971    .235232    .209169     .22063   190.85673   119.56301   .0000286 |
1885. |  .459287    1.00993    .489971    .235232    .209169     .22063   190.85673   119.56301   .0000286 |
1886. |  .459287    .010129    .489971    .235232    .209169     .22063   190.85673   166.75151   .0000286 |
1887. |  .459287    1.00993    .489971    .235232    .209169     .22063   190.85673   166.75151   .0000286 |
      |----------------------------------------------------------------------------------------------------|
1888. |  .459287    .510029   -.009928    .235232    .209169     .22063   190.85673   119.56301   .0000286 |
1889. |  .459287    .510029    .989871    .235232    .209169     .22063   190.85673   119.56301   .0000286 |
1890. |  .459287    .510029   -.009928    .235232    .209169     .22063   190.85673   166.75151   .0000286 |
1891. |  .459287    .510029    .989871    .235232    .209169     .22063   190.85673   166.75151   .0000286 |
      |----------------------------------------------------------------------------------------------------|
1892. |  .459287    .510029    .489971   -.188912    .209169     .22063   190.85673   119.56301   .0000286 |
1893. |  .459287    .510029    .489971    .659375    .209169     .22063   190.85673   119.56301   .0000286 |
1894. |  .459287    .510029    .489971   -.188912    .209169     .22063   190.85673   166.75151   .0000286 |
1895. |  .459287    .510029    .489971    .659375    .209169     .22063   190.85673   166.75151   .0000286 |
      |----------------------------------------------------------------------------------------------------|
1896. |  .459287    .510029    .489971    .235232   -.197546     .22063   190.85673   119.56301   .0000286 |
1897. |  .459287    .510029    .489971    .235232    .615884     .22063   190.85673   119.56301   .0000286 |
1898. |  .459287    .510029    .489971    .235232   -.197546     .22063   190.85673   166.75151   .0000286 |
1899. |  .459287    .510029    .489971    .235232    .615884     .22063   190.85673   166.75151   .0000286 |
      |----------------------------------------------------------------------------------------------------|
1900. |  .459287    .510029    .489971    .235232    .209169   -.194041   190.85673   119.56301   .0000286 |
1901. |  .459287    .510029    .489971    .235232    .209169    .635302   190.85673   119.56301   .0000286 |
1902. |  .459287    .510029    .489971    .235232    .209169   -.194041   190.85673   166.75151   .0000286 |
1903. |  .459287    .510029    .489971    .235232    .209169    .635302   190.85673   166.75151   .0000286 |
      |----------------------------------------------------------------------------------------------------|
1904. |  .459287    .510029    .489971    .235232    .209169     .22063   173.87192   119.56301   .0000286 |
1905. |  .459287    .510029    .489971    .235232    .209169     .22063   207.84154   119.56301   .0000286 |
1906. |  .459287    .510029    .489971    .235232    .209169     .22063   173.87192   166.75151   .0000286 |
1907. |  .459287    .510029    .489971    .235232    .209169     .22063   207.84154   166.75151   .0000286 |
      +----------------------------------------------------------------------------------------------------+

Analysis after augmentation:

      Source |       SS           df       MS      Number of obs   =       349
-------------+----------------------------------   F(7, 341)       =     13.38
       Model |  37883.0033         7  5411.85762   Prob > F        =    0.0000
    Residual |  137917.308       341  404.449585   R-squared       =    0.2155
-------------+----------------------------------   Adj R-squared   =    0.1994
       Total |  175800.312       348   505.17331   Root MSE        =    20.111

--------------------------------------------------------------------------------
          sbpl | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
---------------+----------------------------------------------------------------
    _Iagegp_30 |  -43.19767   2222.199    -0.02   0.985    -4414.142    4327.747
    _Iagegp_45 |   1.984091   2660.959     0.00   0.999    -5231.976    5235.944
    _Iagegp_70 |  -1.984092   2660.959    -0.00   0.999    -5235.944    5231.976
_ItrtXage_1_30 |  -30.54198   3875.165    -0.01   0.994     -7652.78    7591.696
_ItrtXage_1_45 |  -18.58448    3.07152    -6.05   0.000    -24.62599   -12.54296
_ItrtXage_1_70 |  -9.674949   3.091267    -3.13   0.002     -15.7553   -3.594596
          sbpi |   .4111146   .0642187     6.40   0.000     .2847998    .5374293
         _cons |   101.0367   2660.987     0.04   0.970    -5132.979    5335.052
--------------------------------------------------------------------------------
trial==COOP: perfect prediction has been fixed

file z2.dta saved





regress sbpl: 3. parameterised as main treatment effect and 2 interactions
Learning equation names...
Using coefficients: _Itrt_1 _ItrtXage_1_45 _ItrtXage_1_70 


-> trial==ANBP
note: _Iagegp_70 omitted because of collinearity.
note: _ItrtXage_1_70 omitted because of collinearity.

      Source |       SS           df       MS      Number of obs   =     1,530
-------------+----------------------------------   F(4, 1525)      =     48.94
       Model |  53992.2236         4  13498.0559   Prob > F        =    0.0000
    Residual |  420573.389     1,525  275.785829   R-squared       =    0.1138
-------------+----------------------------------   Adj R-squared   =    0.1114
       Total |  474565.613     1,529  310.376463   Root MSE        =    16.607

--------------------------------------------------------------------------------
          sbpl | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
---------------+----------------------------------------------------------------
       _Itrt_1 |   -5.16063    1.13213    -4.56   0.000    -7.381326   -2.939934
    _Iagegp_45 |   .9914003   1.222834     0.81   0.418    -1.407214    3.390015
    _Iagegp_70 |          0  (omitted)
_ItrtXage_1_45 |  -3.449518   1.714162    -2.01   0.044    -6.811882   -.0871546
_ItrtXage_1_70 |          0  (omitted)
          sbpi |   .3112125   .0275738    11.29   0.000      .257126     .365299
         _cons |   91.68374   4.277744    21.43   0.000     83.29285    100.0746
--------------------------------------------------------------------------------

trial==ANBP: perfect prediction or inestimable parameter
   (parameters y_ItrtXage_1_70 have been dropped)
trial==ANBP: attempting to fix perfect prediction by augmenting with .0001 observations per parameter
Adding 24 pseudo-observations with total weight .0007

Listing of added records:

      +----------------------------------------------------------------------------------------+
      | _Itrt_1   _Iage~45   _Iage~70   _It~1_45   _It~1_70        sbpi        sbpl     weight |
      |----------------------------------------------------------------------------------------|
1880. |   .0099    .435948    .091006    .220915    .040979   152.65686   119.56301   .0000292 |
1881. | 1.00971    .435948    .091006    .220915    .040979   152.65686   119.56301   .0000292 |
1882. |   .0099    .435948    .091006    .220915    .040979   152.65686   166.75151   .0000292 |
1883. | 1.00971    .435948    .091006    .220915    .040979   152.65686   166.75151   .0000292 |
      |----------------------------------------------------------------------------------------|
1884. | .509804   -.059933    .091006    .220915    .040979   152.65686   119.56301   .0000292 |
1885. | .509804    .931828    .091006    .220915    .040979   152.65686   119.56301   .0000292 |
1886. | .509804   -.059933    .091006    .220915    .040979   152.65686   166.75151   .0000292 |
1887. | .509804    .931828    .091006    .220915    .040979   152.65686   166.75151   .0000292 |
      |----------------------------------------------------------------------------------------|
1888. | .509804    .435948   -.196612    .220915    .040979   152.65686   119.56301   .0000292 |
1889. | .509804    .435948    .378623    .220915    .040979   152.65686   119.56301   .0000292 |
1890. | .509804    .435948   -.196612    .220915    .040979   152.65686   166.75151   .0000292 |
1891. | .509804    .435948    .378623    .220915    .040979   152.65686   166.75151   .0000292 |
      |----------------------------------------------------------------------------------------|
1892. | .509804    .435948    .091006   -.193948    .040979   152.65686   119.56301   .0000292 |
1893. | .509804    .435948    .091006    .635778    .040979   152.65686   119.56301   .0000292 |
1894. | .509804    .435948    .091006   -.193948    .040979   152.65686   166.75151   .0000292 |
1895. | .509804    .435948    .091006    .635778    .040979   152.65686   166.75151   .0000292 |
      |----------------------------------------------------------------------------------------|
1896. | .509804    .435948    .091006    .220915   -.157263   152.65686   119.56301   .0000292 |
1897. | .509804    .435948    .091006    .220915    .239221   152.65686   119.56301   .0000292 |
1898. | .509804    .435948    .091006    .220915   -.157263   152.65686   166.75151   .0000292 |
1899. | .509804    .435948    .091006    .220915    .239221   152.65686   166.75151   .0000292 |
      |----------------------------------------------------------------------------------------|
1900. | .509804    .435948    .091006    .220915    .040979   137.17241   119.56301   .0000292 |
1901. | .509804    .435948    .091006    .220915    .040979   168.14131   119.56301   .0000292 |
1902. | .509804    .435948    .091006    .220915    .040979   137.17241   166.75151   .0000292 |
1903. | .509804    .435948    .091006    .220915    .040979   168.14131   166.75151   .0000292 |
      +----------------------------------------------------------------------------------------+

Analysis after augmentation:

      Source |       SS           df       MS      Number of obs   =     1,530
-------------+----------------------------------   F(6, 1523)      =     32.59
       Model |  53992.2353         6  8998.70589   Prob > F        =    0.0000
    Residual |  420573.801     1,523   276.14826   R-squared       =    0.1138
-------------+----------------------------------   Adj R-squared   =    0.1103
       Total |  474566.036     1,529   310.37674   Root MSE        =    16.618

--------------------------------------------------------------------------------
          sbpl | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
---------------+----------------------------------------------------------------
       _Itrt_1 |   -5.16063   1.132873    -4.56   0.000    -7.382786   -2.938474
    _Iagegp_45 |   .9914002   1.223637     0.81   0.418    -1.408791    3.391592
    _Iagegp_70 |   24.61578   4399.745     0.01   0.996    -8605.584    8654.816
_ItrtXage_1_45 |  -3.449518   1.715287    -2.01   0.044    -6.814093   -.0849435
_ItrtXage_1_70 |   23.33172    7205.12     0.00   0.997    -14109.68    14156.34
          sbpi |   .3112125   .0275919    11.28   0.000     .2570904    .3653345
         _cons |   91.68374   4.280552    21.42   0.000     83.28734    100.0801
--------------------------------------------------------------------------------
trial==ANBP: perfect prediction has been fixed


-> trial==COOP
note: _Iagegp_70 omitted because of collinearity.
note: _ItrtXage_1_45 omitted because of collinearity.

      Source |       SS           df       MS      Number of obs   =       349
-------------+----------------------------------   F(4, 344)       =     23.62
       Model |  37882.3611         4  9470.59027   Prob > F        =    0.0000
    Residual |  137916.768       344  400.920837   R-squared       =    0.2155
-------------+----------------------------------   Adj R-squared   =    0.2064
       Total |  175799.129       348  505.169911   Root MSE        =    20.023

--------------------------------------------------------------------------------
          sbpl | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
---------------+----------------------------------------------------------------
       _Itrt_1 |  -18.58448   3.058096    -6.08   0.000     -24.5994   -12.56956
    _Iagegp_45 |   3.968186   2.853833     1.39   0.165    -1.644972    9.581343
    _Iagegp_70 |          0  (omitted)
_ItrtXage_1_45 |          0  (omitted)
_ItrtXage_1_70 |   8.909531   4.337474     2.05   0.041      .378222    17.44084
          sbpi |   .4111147   .0639381     6.43   0.000     .2853559    .5368735
         _cons |   99.05261   12.54857     7.89   0.000     74.37104    123.7342
--------------------------------------------------------------------------------

trial==COOP: perfect prediction or inestimable parameter
   (parameters y_ItrtXage_1_45 have been dropped)
trial==COOP: attempting to fix perfect prediction by augmenting with .0001 observations per parameter
Adding 24 pseudo-observations with total weight .0007

Listing of added records:

      +-----------------------------------------------------------------------------------------+
      |  _Itrt_1   _Iage~45   _Iage~70   _It~1_45   _It~1_70        sbpi        sbpl     weight |
      |-----------------------------------------------------------------------------------------|
1880. | -.065248    .510029    .489971    .209169     .22063   190.85673   119.56301   .0000292 |
1881. |  .924847    .510029    .489971    .209169     .22063   190.85673   119.56301   .0000292 |
1882. | -.065248    .510029    .489971    .209169     .22063   190.85673   166.75151   .0000292 |
1883. |  .924847    .510029    .489971    .209169     .22063   190.85673   166.75151   .0000292 |
      |-----------------------------------------------------------------------------------------|
1884. |  .429799    .010129    .489971    .209169     .22063   190.85673   119.56301   .0000292 |
1885. |  .429799    1.00993    .489971    .209169     .22063   190.85673   119.56301   .0000292 |
1886. |  .429799    .010129    .489971    .209169     .22063   190.85673   166.75151   .0000292 |
1887. |  .429799    1.00993    .489971    .209169     .22063   190.85673   166.75151   .0000292 |
      |-----------------------------------------------------------------------------------------|
1888. |  .429799    .510029   -.009928    .209169     .22063   190.85673   119.56301   .0000292 |
1889. |  .429799    .510029    .989871    .209169     .22063   190.85673   119.56301   .0000292 |
1890. |  .429799    .510029   -.009928    .209169     .22063   190.85673   166.75151   .0000292 |
1891. |  .429799    .510029    .989871    .209169     .22063   190.85673   166.75151   .0000292 |
      |-----------------------------------------------------------------------------------------|
1892. |  .429799    .510029    .489971   -.197546     .22063   190.85673   119.56301   .0000292 |
1893. |  .429799    .510029    .489971    .615884     .22063   190.85673   119.56301   .0000292 |
1894. |  .429799    .510029    .489971   -.197546     .22063   190.85673   166.75151   .0000292 |
1895. |  .429799    .510029    .489971    .615884     .22063   190.85673   166.75151   .0000292 |
      |-----------------------------------------------------------------------------------------|
1896. |  .429799    .510029    .489971    .209169   -.194041   190.85673   119.56301   .0000292 |
1897. |  .429799    .510029    .489971    .209169    .635302   190.85673   119.56301   .0000292 |
1898. |  .429799    .510029    .489971    .209169   -.194041   190.85673   166.75151   .0000292 |
1899. |  .429799    .510029    .489971    .209169    .635302   190.85673   166.75151   .0000292 |
      |-----------------------------------------------------------------------------------------|
1900. |  .429799    .510029    .489971    .209169     .22063   173.87192   119.56301   .0000292 |
1901. |  .429799    .510029    .489971    .209169     .22063   207.84154   119.56301   .0000292 |
1902. |  .429799    .510029    .489971    .209169     .22063   173.87192   166.75151   .0000292 |
1903. |  .429799    .510029    .489971    .209169     .22063   207.84154   166.75151   .0000292 |
      +-----------------------------------------------------------------------------------------+

Analysis after augmentation:

      Source |       SS           df       MS      Number of obs   =       349
-------------+----------------------------------   F(6, 342)       =     15.66
       Model |  37882.3511         6  6313.72519   Prob > F        =    0.0000
    Residual |  137917.813       342  403.268458   R-squared       =    0.2155
-------------+----------------------------------   Adj R-squared   =    0.2017
       Total |  175800.164       348  505.172885   Root MSE        =    20.082

--------------------------------------------------------------------------------
          sbpl | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]
---------------+----------------------------------------------------------------
       _Itrt_1 |  -8.134424   2436.111    -0.00   0.997    -4799.781    4783.512
    _Iagegp_45 |   1.984089   2629.818     0.00   0.999     -5170.67    5174.638
    _Iagegp_70 |  -1.984093   2629.818    -0.00   0.999    -5174.638     5170.67
_ItrtXage_1_45 |  -10.45006   2436.112    -0.00   0.997    -4802.098    4781.198
_ItrtXage_1_70 |  -1.540529   2436.112    -0.00   0.999    -4793.189    4790.108
          sbpi |   .4111146   .0641249     6.41   0.000     .2849857    .5372434
         _cons |   101.0367   2629.847     0.04   0.969    -5071.674    5273.747
--------------------------------------------------------------------------------
trial==COOP: perfect prediction has been fixed

file z3.dta saved
Note: using method fixed
Note: using variables y_ItrtXage_1_30 y_ItrtXage_1_45 y_ItrtXage_1_70
Note: 2 observations on 3 variables

Multivariate meta-analysis
Variance-covariance matrix = (none)
Method = fixed                                 Number of dimensions    =     3
                                               Number of observations  =     2
---------------------------------------------------------------------------------
                | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
----------------+----------------------------------------------------------------
Overall_mean    |
y_ItrtXage_1_30 |    -5.1597    1.13213    -4.56   0.000    -7.378633   -2.940767
y_ItrtXage_1_45 |  -10.10956   1.185686    -8.53   0.000    -12.43346    -7.78566
y_ItrtXage_1_70 |  -9.670034   3.077757    -3.14   0.002    -15.70233   -3.637742
---------------------------------------------------------------------------------
Note: using method fixed
Note: using variables y_ItrtXage_1_30 y_ItrtXage_1_45 y_ItrtXage_1_70
Note: 2 observations on 3 variables

Multivariate meta-analysis
Variance-covariance matrix = (none)
Method = fixed                                 Number of dimensions    =     3
                                               Number of observations  =     2
---------------------------------------------------------------------------------
                | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
----------------+----------------------------------------------------------------
Overall_mean    |
y_ItrtXage_1_30 |  -5.159702    1.13213    -4.56   0.000    -7.378635   -2.940768
y_ItrtXage_1_45 |  -10.10956   1.185687    -8.53   0.000    -12.43346   -7.785656
y_ItrtXage_1_70 |  -9.670024   3.077758    -3.14   0.002    -15.70232   -3.637729
---------------------------------------------------------------------------------

Relative error is 7.770e-07
Note: using method fixed
Note: using variables y_Itrt_1 y_ItrtXage_1_45 y_ItrtXage_1_70
Note: 2 observations on 3 variables

Multivariate meta-analysis
Variance-covariance matrix = (none)
Method = fixed                                 Number of dimensions    =     3
                                               Number of observations  =     2
---------------------------------------------------------------------------------
                | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
----------------+----------------------------------------------------------------
Overall_mean    |
       y_Itrt_1 |  -5.159701    1.13213    -4.56   0.000    -7.378634   -2.940767
y_ItrtXage_1_45 |  -4.949854   1.639913    -3.02   0.003    -8.164024   -1.735684
y_ItrtXage_1_70 |  -4.510327   3.279382    -1.38   0.169     -10.9378    1.917144
---------------------------------------------------------------------------------

_ItrtXage~30: _b[y_Itrt_1]
_ItrtXage~45: _b[y_Itrt_1] + _b[y_ItrtXage_1_45]
_ItrtXage~70: _b[y_Itrt_1] + _b[y_ItrtXage_1_70]

--------------------------------------------------------------------------------
               | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]
---------------+----------------------------------------------------------------
_ItrtXage_1_30 |  -5.159701    1.13213    -4.56   0.000    -7.378634   -2.940767
_ItrtXage_1_45 |  -10.10955   1.185687    -8.53   0.000    -12.43346   -7.785651
_ItrtXage_1_70 |  -9.670027   3.077764    -3.14   0.002    -15.70233   -3.637721
--------------------------------------------------------------------------------

Relative error is 4.344e-06

. 
. forvalues i=1/3 {
  2.         erase z`i'.dta
  3. }

. 
end of do-file
      name:  <unnamed>
       log:  c:\ian\git\mvmeta\scripts\mvmeta_make_cscript_more.log
  log type:  text
 closed on:  28 Jul 2023, 17:44:32
--------------------------------------------------------------------------------------------------------------------------------------------
